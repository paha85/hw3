Добрый день!
Сложное задание. Базовую функцию с выводом шутки написал без труда.
В дальнейшем гуглил помощь. Не могу до конца уложить в голове фукнции и их применение.
Забыл про range()  для вывода нескольких шуток.
Схему с флаг переписывал с решения задачи, пришлось углубиться и понять всю схему.
Думаю что массивный блок, с вычитанием повторяющихся слов, можно написать проще, может даже в одну строчку,
используя map.
Функции пока самое сложное для меня.